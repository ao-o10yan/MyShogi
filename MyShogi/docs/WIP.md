
# 『将棋神やねうら王』(2018年8月31日発売) アップデートなどの作業進捗 (Work In Progress)


- このファイルは、既知の問題や作業中の内容を明示することにより、それらに対するバグ報告を未然に防ぐためのものです。

- マイナビ公式のアップデート情報については、[マイナビ 将棋神やねうら王](https://book.mynavi.jp/ec/products/detail/id=92007)をご確認ください。
  - Update1(不具合修正・細かいな機能追加たくさん)は、2018年9月3日を予定しています。
    - Update1(非公式)は、すでに公開してあります。→ [『将棋神やねうら王』Update1(非公式)を公開しました。](http://yaneuraou.yaneu.com/2018/08/31/%E3%80%8E%E5%B0%86%E6%A3%8B%E7%A5%9E%E3%82%84%E3%81%AD%E3%81%86%E3%82%89%E7%8E%8B%E3%80%8Fupdate1%E9%9D%9E%E5%85%AC%E5%BC%8F%E3%82%92%E5%85%AC%E9%96%8B%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F%E3%80%82/)
  - Update2(大型アップデートその2)は、2018年9月中旬を予定しています。棋譜解析・棋譜コメント機能・形勢グラフの追加などを予定しています。
- 全体的な操作説明については[オンラインマニュアル](online_manual.md)をご覧ください。
- サウンドが再生されない、CPU負荷が高すぎる/低すぎるなどについては、[よくある質問](faq.md)をご覧ください。
- デバッグ機能の使い方などは、[開発者向け機能](dev_manual.md)をご覧ください。
- バグ、要望等は、[バグ・要望等　総合受付](https://github.com/yaneurao/MyShogi/issues/33)にどうぞ。


# 修正作業中


- 詰将棋エンジンでの検討
  - 詰みがあるのに不詰が返ってくることがある。(ミクロコスモスの詰みの手前の局面など)
    - Hashメモリの割り当てが小さいとこの現象が起きるらしい。
    // tanuki-さん調査中


# Update2(2018年9月中旬ごろリリース予定)に向けて作業中です(ここに書かれているすべての機能追加をお約束するものではありません)


対局
  - 対局中断→再開が欲しい。
  - 棋譜の途中から対局をするとき、そこより手数を戻そうとすると持ち時間がゼロになるので時間切れ負けになる件

- 棋譜
  - 棋譜ウィンドウのフロート
  - 棋譜コメントの表示、編集等
  - 思考エンジンの読み筋を棋譜コメントに記録する
  - 本譜のみ書き出し
  - 棋譜のマージ

- 棋譜解析

- 形勢グラフ(作業中)
	- このウィンドウ邪魔なので、検討ウィンドウに埋める予定
  - ToolStripの◀▶で局面を移動させた時にその局面での形勢表示にならない。
    - 検討ウィンドウのほうと合わせ、通知のハンドラちゃんと書く。
  - 着手や終局の直後に入れ違いで前の局面の思考が送られてきた時に、次の局面の評価値として記録してしまう。
    - あとで修正する。
  - このソフトで保存した棋譜を再度読み込んだ時にその評価値が形勢グラフに反映されない。
  - 駒落ちの時、詰まされると落ちる。(tkponさん)
    - 形勢グラフの範囲外にプロットしている模様。


# 対応を検討中


- もっと使いやすい表示設定ダイアログを用意する

- USIプロトコル対応エンジンを任意に追加する機能

- ponder(「相手の手番で先読み」)
  - この実装、わりとややこしくて、激指ユーザーとかがターゲットなので必須機能とも言えないので後回し。


# 改修履歴


- "1.1.1"→"1.1.2" [2018/09/01]-[2018/09/XX]
  - 棋譜を書き出した時に「棋譜が保存されていません」のメッセージが出る。(tooroさん)
    - 修正しました。
  - 直近に開いたファイル、"c:.."のようになっているのを"c:\.."のように修正。


- "1.1.0"→"1.1.1" [2018/08/31]-[2018/09/01]
  - 思考エンジンのプリセットに「十段」「十一段」「十二段」を追加
  - 思考エンジンの「八段」「九段」のNodeLimitsを少し下方修正。
  - 「九段」以下が、2スレッド固定の探索になっていなかったの修正。
  - 検討ウィンドウのカラムの横幅、あるフィールドの横幅を0にすると、次回起動時そのフィールドの幅がデフォルトサイズに戻ってしまう。(tooroさん)
    - 修正しました。
  - ファイルメニューあたりに直近に開いたファイル数個が表示されて欲しい。(tooroさん)
    - 対応しました。
  - 対局結果一覧から棋譜を開いて、検討でマウスで駒を動かしたあとに上書き保存したときにそのファイルに上書きされなかったの修正。
  - 連続対局の表示の文字色、見づらいので青～黒系を希望。(masaさん)
    - 青文字で白色の影を入れてみました。
  - 連続対局の表示、どちらが何勝であるか、わかりやすく。(uuunさん、masaさん)
  - メニューの「情報(&I)」を「ヘルプ(&H)」に変更。(kumaさん)
  - 対局結果ダイアログ、デスクトップ画面が小さくて高dpi環境だとボタンが表示されない。(masaさん)
    - 修正しました。


- "1.1.0"をUpdate1としました。ご協力いただいた皆様、ありがとうございました。[2018/08/31]

- β10.1を『将棋神やねうら王』(2018年8月31日発売)のマスターアップ版としました。開発・テストにご協力いただいた皆様、ありがとうございました。[2018/08/05]


## 過去の改修履歴

- ここ以前の改修履歴については、[過去の改修履歴](過去の改修履歴.md)のほうに移動させました。
