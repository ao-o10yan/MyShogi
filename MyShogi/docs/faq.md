# よくある質問

- 『将棋神やねうら王』(2018年8月発売)に関するマイナビ公式のアップデート情報については、[マイナビ 将棋神やねうら王](https://book.mynavi.jp/ec/products/detail/id=92007)をご確認ください。
  - ちなみに、Update1(大型アップデートその1)は、2018年9月中旬を予定しています。不具合修正・棋譜解析・棋譜コメント機能・形勢グラフの追加などを予定しています。
- 全体的な操作説明については[オンラインマニュアル](online_manual.md)をご覧ください。
- 今後のアップデートの予定など、作業進捗については、[WIP](WIP.md)をご覧ください。
- バグ、要望等は、[バグ・要望等　総合受付](https://github.com/yaneurao/MyShogi/issues/33)にどうぞ。


## 『将棋神やねうら王』(マイナビより2018年8月発売)・『MyShogi』(オープンソースGUI)に関するよくある質問集


### サウンドが再生されない時


- 効果音などのサウンドの再生には、MediaPlayerという技術を使っています。そのため、Windows Media Playerが使えない環境だとサウンドが正常に再生されないようです。
- Windows Media PlayerはWindows7/8/8.1/10には標準でインストールされているのですが、何かの拍子に使えなくなることがあるようです。
    - 参考記事 : [Windows 10：Windows Media Player がなくなった？](http://snow-white.cocolog-nifty.com/first/2017/12/windows-10windo.html)

- サウンドが再生されない時は、以下の方法をお試しください。
  - 1. Windows Media Playerを有効化する
    - 方法) 「コントロールパネル」→「プログラムの機能」→「Windowsの機能の有効化または無効化」→「Media Features」→「Windows Media Player」のチェックボックスをオンにする。
  - 2. すべてのアプリ内に「Windows Media Player」が表示されているか確認。ここになければ、Windows Media Playerがなぜかアンインストールされているのでインストールする。　
    - 方法) 「設定」→「アプリ」→「アプリと機能」→「オプション機能の管理」をクリック。「機能の追加」をクリック。「オプション機能」に「Windows Media Player」が見つかったら選択。「インストール」ボタンを押す。
  - 3. WindowsMediaPlayerをアンインストールしてから再インストールしてみる。(上記の2.の手順を参考にアンインストール＆インストール)


### 思考エンジンが思考している時にCPU負荷が高すぎる/低すぎる


- 本ソフトでは「将棋神」「カスタム」では、デフォルトではCPUの(論理コア数ではなく)物理コア数で並列的に思考します。この並列で思考する役割を担うものをスレッドと呼びます。
  - この設定は、詳細設定の「スレッド数」のところから変更できます。
  - この「スレッド数」を増やすと思考時のCPU負荷が上がり、減らすと思考時のCPU負荷が下がります。
  - デフォルトでは、CPUの論理コア数ではなく物理コア数に設定されているので、HyperThreadingが有効な環境だとCPU負荷は50%程度になります。CPU負荷が100%になっていませんが(CPUを使い切っていませんが)、これは正常な動作です。
- また、「初段」など段位が書いてあるものを選択すると2スレッド固定で思考します。(設定された棋力を担保するため)

- 検討モードで長時間使用する場合など、PCは、CPU負荷が高い状態が続くことになるので、PCによっては冷却が追いつかず、PC本体の温度が上がることがあります。

- PC本体の温度が上がると困る(PCが壊れやすくなる？)と言う人は、このスレッド数を減らすことでCPU負荷を下げることが出来ます。
  - 「スレッド数」を減らすとコンピュータの棋力は本来の棋力よりは下がります。

- 逆に「スレッド数」を、論理コア数に設定することで思考時のCPU負荷を100%に持っていくことが出来ます。普通は、そのほうが強くなるので、CPU負荷が高くとも少しでもコンピューターの棋力が高いほうが良いという方は、そうしてください。


### ミニ盤面が小さすぎる。拡大する方法は？


- ミニ盤面は検討ウィンドウの高さに追随しているので、検討ウィンドウのサイズをマウスで大きくしてみてください。検討ウィンドウの高さに応じてミニ盤面も大きくなります。


### 棋譜ウィンドウの文字が小さすぎて読めない。


- 棋譜ウィンドウ、現状メインウィンドウに埋め込む形になっているので、横にはみ出るわけにはいかず、棋譜ウィンドウの横幅に収まるフォントサイズにせざるを得なくて小さくなりがちです。
- 棋譜ウィンドウの横幅自体は、メニューの「表示」のところからサイズを変更できるのでそれで幅を広げればそれに応じたフォントサイズになります。
- 棋譜ウィンドウを激指のようにフロート型のウィンドウにすることも検討中です。(Update2あたりで)


## 『将棋神やねうら王』(マイナビより2018年8月発売)に関するよくある質問集


### ダウンロード版を購入したのですが、「ソースファイルがありません」と表示され、インストールできません。


- ダウンロード版のほうは、zipファイルになっています。zipファイルは圧縮ファイルなので解凍する必要があります。
- ダブルクリックすればzipファイルに格納されているファイルが見れますが、この状態では解凍されていないのでインストールすることは出来ません。
  - (この話は、本ソフトに限ったことではなく、他のダウンロード販売されているソフトウェアでも同様です。)

- ダウンロードしたzipファイルを右クリックして「展開」を選んで展開します。
- 「はじめにお読みください.txt」にインストール方法・注意事項が書かれています。

- インストールまでの手順は、次のユーザーレビューが参考になると思います。
  - [「将棋神 やねうら王」買ったよ（1） インストール編](https://shogi.zukeran.org/2018/08/24/yaneuraoh-1/)


### .NET Framework が入っていないと言われ、インストールが始まりません。


- 将棋神やねうら王 の動作には、 .NET Framework 4.6.1 以降のインストールが必要です。
  - Windows 10 November Update version 1511 以降では .NET Framework 4.6.1 以降がプリインストールされていますが、
  - Windows 7 SP1, Windows 8.1, Windows 10 version 1507 では .NET Framework 4.6.1 以降のインストールが必要な場合があります。
- 以下の2つのインストーラを同梱していますので、これらの名前のファイルを先に実行してインストールしてください。日本語言語パックのインストールだけでは .NET Framework の本体はインストールされません。
  - NDP461-KB3102436-x86-x64-AllOS-ENU.exe : .NET Framework 4.6.1 オフラインインストーラ
  - NDP461-KB3102436-x86-x64-AllOS-JPN.exe : .NET Framework 4.6.1 日本語言語パック オフラインインストーラ


### インストーラーでのインストールの画面から進まない


- 通常、インストールは5分程度で完了しますが、セキュリティソフトがインストールされている環境ですと、ファイルのチェックのために20分以上時間がかかる現象が確認されています。
 セキュリティソフトを一時的にオフにしてインストールするか、根気よく待ってみてください。


### Windows7とWindows10とでコンピュータの棋力は変わりますか？


- ほぼ変わりません。
- Windows10のほうがOSとしてメモリマネージメントがうまくなっているので、Windows7よりは、少し多くのメモリを思考エンジンに割り当てられて、そこで差がわずかにつく可能性はありますが、誤差だと思います。


### Windowsの32bit版と64bit版とで強さは変わりますか？


- 32bit環境は動作保証外です。(動作すること自体は確認していますが)
- 思考エンジン側は64bit環境に向けて最適化されているので、32bit環境と64bit環境とでは棋力はかなり変わります。
- eloレーティングで言うとR50～R100ぐらい変わりかねないです。


### Windowsの32bit版で8スレッド以上にすると動きません。


- 32bit環境自体、『将棋神やねうら王』の動作保証対象外ですが、「この理由で動かない」「こうすれば動くことを確認した」という情報を以下に記載しています。

- 【プログラマ向けの説明】思考エンジン側でスレッドなどに割り当てる論理アドレスが2GBを超えるため。Windows7,10にてこの現象を確認。
- この理由から、現状、32bit環境で自動スレッドにした場合、物理8コアであっても7スレッドしか割当らないようにしてあります。
- 自動スレッドをオフにして、手動でスレッド数を8以上に変更することは出来ます。


### タブレット(Windows 10)でも使えますか？


- 対局用のウィンドウはある程度自由にサイズを変更することが出来るので、縦長にしての対局も可能です。
- 人間同士の対局は、後手側は、成り不成の選択表示や、残り時間などを180度回転させて表示されたほうが嬉しいと思うのですが、残念ながらそれには現時点では対応していません。(将来的に対応するかも知れません)


### 2台のPCにインストールしたい場合、『将棋神やねうら王』を2つ買わないといけませんか？


- 『将棋神やねうら王』のインストール時のライセンス文書にある通りです。
- 2台のPCで同一のユーザーのみが本ソフトを使う場合は、2つ買う必要はありません。


### 『将棋神やねうら王』に収録されている5つのソフトなかで最強のソフトはどれですか？


- レーティング計測上は、Qhapaq2018が最強でしたが、人間が体感できるほどの棋力の違いはないと思われますので、
  それぞれのソフトの棋風の違いを堪能していただければと思います。


### 各思考エンジンの強みを教えてください。


- 思考エンジンの選択画面には以下のような説明があります。
  - やねうら王(2018) "プロの棋譜を一切利用せずに自己学習で身につけた異次元の大局観。従来の将棋の常識を覆す指し手が飛び出すかも？",
  - tanuki-(SDT5) "SDT5(第5回 将棋電王トーナメント)で絶対王者Ponanzaを下し堂々の優勝を果たした実力派。SDT5 出場名『平成将棋合戦ぽんぽこ』
  - tanuki-(2018) "WCSC28(第28回 世界コンピュータ将棋選手権)に出場した時からさらに強化されたtanuki-シリーズ最新作。ニューラルネットワークを用いた評価関数で、他のソフトとは毛並みの違う新時代のコンピュータ将棋。
  - Qhapaq(2018) "河童の愛称で知られるQhapaqの最新版。非公式なレーティング計測ながら2018年6月時点で堂々の一位の超強豪。"
  - 読み太(2018) "直感精読の個性派、読みの確かさに定評あり。毎回、大会で上位成績を残している常連組。"


### コンピュータが強すぎる（自分がこの段級位に負けるはずがない）


- 段位の基準は将棋倶楽部24の基準に準拠させてあります。将棋倶楽部24の初段は、町道場の三、四段ぐらいの棋力ですので、少しシビアな段位となっています。


### プロ棋士とどちらが強いのですか？


- このソフトの「九段」は将棋倶楽部24のR3200相当(平均的なプロ棋士レベル)で、「九段」に設定しても平均的なPCでは即指し(1秒以内)です。
- 一段上がると勝率は76%程度。(「八段」と「九段」が戦うと「九段」側の勝率は76%程度です。)
- このソフトの「将棋神」の強さは、持ち時間とお使いのPCスペックに依存しますが、だいたい「十二段」～「十三段」相当だとお考えください。平均的なプロ棋士に対してどれくらいの勝率になるかはここから計算してみてください。


### PCによってどれくらい棋力が変わりますか？


- かなり低スペックのPCでも「九段」が即指しですし、コンピュータの棋力が少しぐらい変わっても人間ではその違いをなかなか体感できないとは思いますが、PCを買い替えたほうが良いかなどを判断するための材料として、以下に計算例を書いておきます。


- Q) CPUがCore i7-3770とCore i7-8700とでどれくらい棋力が変わりますか？
  - ベースクロックは、3.4GHz→3.2GHzなので6%ぐらい速度down。
  - Ivy Bridge(AVX2非対応)→Coffee Lake-S(AVX2対応)なので2割ぐらい速度upに相当。
  - Core数 4→6なので並列度1.5倍up。コンピュータ将棋では、並列度の平方根ぐらいの速度upとみなせる(もう少し良いという説もある)ので、2割ぐらいの速度up。
  - 6%down×2割up×2割up = 0.94×1.2×1.2 = 1.36倍。
  - 速度が2倍になると自己対局ではeloレーティングにおいてR200程度upなので、1.36倍ならlog2(1.36)×R200 ≒ R89up。
  - R89upは、勝率で言うと62.5%。(前者のCPUと後者のCPUで戦うと後者のCPUが62.5%ぐらい勝つという意味)


### 対局が終了していることが分かりづらい。


- Update1で「対局開始」「対局終了」の表示が追加される予定ですが、それでいかがでしょうか。


### これから追加していく予定の機能は？追加機能は無償ですか？


- 年内のアップデートでは「棋譜解析」「形勢グラフ」などを予定しており、それらは無償で対応となります。(それ以外の追加についてはお約束できません。)
- 以降のアップデートは、不具合の修正などがメインで、それらは無償です。
- また、GUI側はオープンソースであり、有志の方が改良をしているので、予定になかった機能が突如ついていることがあります。(例えばUpdate1では局面図のSVG形式での出力が備わります。これは有志の方の手で追加されました。)


### 棋譜形式がたくさんありすぎてよくわかりません。


- 普通に使うときはKIF形式で保存しておくと良いと思います。この形式は、他の将棋ソフトでも広く対応しています。
- 局面図を画像として出力したいときはSVG形式で保存します。
- それ以外は、マニア向けの棋譜形式だとお考えください。


### どの設定にしたら一番強くなりますか？


- 棋力プリセットとして、『九段』～『10級』はその棋力になるようにわざと弱く調整してあります。
- 強くしたければ、棋力プリセットとして『カスタム』か『将棋神』を選択してください。
- 『将棋神』を選択すれば、最強(に近い)設定に自動的になります。
- 『カスタム』にして、エンジンの「詳細設定」で細かく設定することも出来ますが、PCと将棋に詳しい人向けの機能という感じです。


### 相手に振り飛車をさせたい。


- 現状、戦型指定機能は備わっていません。
  - 将来的な機能として考えていなくはないのですが、思考エンジン側が対応していないため、なかなか難しいです。
  - 定跡を編集する程度の対応なら出来なくはないのですが…。
  - とりあえず、初手で飛車を振った局面から対局を開始するなどしていただければと…。


### 「デバッグ用のログ」とは？

- GUI本体が思考エンジンとやりとりしている内容を表示したりファイルに保存したりするための思考エンジン開発者向けの機能です。
-　V1.00(製品版のDVD-ROM)では、「デバッグの開始」「ロギングの開始」となっていましたが、Update1(9月中旬を予定)で「デバッグの開始」というメニュー項目は無くなります。
- 興味のある方は、[開発者向け機能](dev_manual.md)をご覧ください。


### その他

- 書きかけ(質問があればここに追加していきます)

